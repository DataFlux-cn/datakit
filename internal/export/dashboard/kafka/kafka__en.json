{"title": "Kafka \u76d1\u63a7\u89c6\u56fe", "dashboardType": "CUSTOM", "dashboardExtend": {"groupUnfoldStatus": {"Topic": true, "\u6982\u89c8": true, "\u7b80\u4ecb": false, "\u526f\u672c\u7ba1\u7406": true}}, "dashboardMapping": [], "dashboardOwnerType": "node", "iconSet": {"url": "https://static-res.guance.com/dataflux-template/dashboard/zh/kafka/kafka.png", "icon": "https://static-res.guance.com/dataflux-template/dashboard/zh/kafka/icon.svg"}, "dashboardBindSet": [], "thumbnail": "", "tagInfo": [], "summary": "", "main": {"vars": [{"name": "host", "seq": 0, "datasource": "dataflux", "code": "host", "type": "QUERY", "definition": {"tag": "", "field": "", "value": "show_tag_value(from=['kafka_controller'], keyin=['host'])", "metric": "", "object": "", "defaultVal": {"label": "*", "value": "*"}}, "valueSort": "asc", "hide": 0, "isHiddenAsterisk": 0, "multiple": true, "includeStar": true}], "charts": [{"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#00B2CE", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "GlobalPartitionCount", "pos": {"h": 8, "w": 3, "x": 6, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`GlobalPartitionCount.Value`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "GlobalPartitionCount.Value", "density": "medium", "filters": [{"id": "1b0cdc70-c380-11eb-8967-fb1050d86707", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [{"key": "\u603b\u8ba1\u65f6\u95f4", "name": "\u603b\u8ba1\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}, {"key": "\u6d88\u606f\u8f6c\u6362\u65f6\u95f4", "name": "\u6d88\u606f\u8f6c\u6362\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}, {"key": "\u8bf7\u6c42\u961f\u5217\u65f6\u95f4", "name": "\u8bf7\u6c42\u961f\u5217\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}, {"key": "\u54cd\u5e94\u961f\u5217\u65f6\u95f4", "name": "\u54cd\u5e94\u961f\u5217\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}], "colors": [], "levels": [], "slimit": 20, "density": "low", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 180, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "last(MessageConversionsTimeMs.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "D"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "performance", "pos": {"h": 10, "w": 7, "x": 0, "y": 8}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(AVG(`TotalTimeMs.Count`) AS `\u603b\u8ba1\u65f6\u95f4`) { `host` = '#{host}' }", "code": "D", "fill": null, "type": "dql", "alias": "\u603b\u8ba1\u65f6\u95f4", "field": "TotalTimeMs.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(AVG(`MessageConversionsTimeMs.Count`) AS `\u6d88\u606f\u8f6c\u6362\u65f6\u95f4`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "alias": "\u6d88\u606f\u8f6c\u6362\u65f6\u95f4", "field": "MessageConversionsTimeMs.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(AVG(`RequestQueueTimeMs.Count`) AS `\u8bf7\u6c42\u961f\u5217\u65f6\u95f4`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "dql", "alias": "\u8bf7\u6c42\u961f\u5217\u65f6\u95f4", "field": "RequestQueueTimeMs.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(AVG(`ResponseSendTimeMs.Count`) AS `\u54cd\u5e94\u961f\u5217\u65f6\u95f4`) { `host` = '#{host}' }", "code": "C", "fill": null, "type": "dql", "alias": "\u54cd\u5e94\u961f\u5217\u65f6\u95f4", "field": "ResponseSendTimeMs.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "kafka_topics_FetchMessageConversionsPerSec.Count", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "MessageConversionsPerSe", "pos": {"h": 9, "w": 8, "x": 16, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`FetchMessageConversionsPerSec.Count`) AS `\u6bcf\u79d2 Fetch \u6d88\u606f\u8f6c\u6362`) { `host` = '#{host}' }\")", "code": "A", "fill": null, "type": "dql", "alias": "\u6bcf\u79d2 Fetch \u6d88\u606f\u8f6c\u6362", "field": "FetchMessageConversionsPerSec.Count", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`ProduceMessageConversionsPerSec.Count`) AS `\u6bcf\u79d2 Produce \u6d88\u606f\u8f6c\u6362`) { `host` = '#{host}' }\")", "code": "B", "fill": null, "type": "dql", "alias": "\u6bcf\u79d2 Produce \u6d88\u606f\u8f6c\u6362", "field": "ProduceMessageConversionsPerSec.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u5165\u6d41\u91cf", "name": "\u5165\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}, {"key": "\u51fa\u6d41\u91cf", "name": "\u51fa\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "kafka_topics_BytesInPerSec.Count", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "network traffic", "pos": {"h": 9, "w": 8, "x": 16, "y": 9}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "non_negative_derivative(\"M::`kafka_topics`:(avg(`BytesInPerSec.Count`) AS `\u5165\u6d41\u91cf`) { `host` = '#{host}' }\")", "code": "A", "fill": null, "type": "simple", "alias": "\u5165\u6d41\u91cf", "field": "BytesInPerSec.Count", "filters": [{"id": "109bf340-c383-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "non_negative_derivative(\"M::`kafka_topics`:(avg(`BytesOutPerSec.Count`) AS `\u51fa\u6d41\u91cf`) { `host` = '#{host}' }\")", "code": "B", "fill": null, "type": "simple", "alias": "\u51fa\u6d41\u91cf", "field": "BytesOutPerSec.Count", "filters": [{"id": "2206b890-c383-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u6bcf\u79d2 Fetch \u8bf7\u6c42\u603b\u8ba1", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "TotalRequestsPerSec", "pos": {"h": 9, "w": 8, "x": 0, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`TotalProduceRequestsPerSec.Count`) AS `\u6bcf\u79d2 Produce \u8bf7\u6c42\u603b\u8ba1`) { `host` = '#{host}' }\")", "code": "B", "fill": null, "type": "dql", "alias": "\u6bcf\u79d2 Produce \u8bf7\u6c42\u603b\u8ba1", "field": "TotalProduceRequestsPerSec.Count", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`TotalFetchRequestsPerSec.Count`) AS `\u6bcf\u79d2 Fetch \u8bf7\u6c42\u603b\u8ba1`) { `host` = '#{host}' }\")", "code": "A", "fill": null, "type": "dql", "alias": "\u6bcf\u79d2 Fetch \u8bf7\u6c42\u603b\u8ba1", "field": "TotalFetchRequestsPerSec.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": ""}, "disabled": true, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u6bcf\u79d2 Fetch \u8bf7\u6c42\u5931\u8d25\u6570", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "FailedRequestsPerSec", "pos": {"h": 9, "w": 8, "x": 8, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`FailedFetchRequestsPerSec.Count`) AS `<no value>`) { `host` = '#{host}' }\")", "code": "A", "fill": null, "type": "dql", "alias": "<no value>", "field": "FailedFetchRequestsPerSec.Count", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "NON_NEGATIVE_DERIVATIVE(\"M::`kafka_topics`:(AVG(`FailedProduceRequestsPerSec.Count`) AS `\u6bcf\u79d2 Produce \u8bf7\u6c42\u5931\u8d25\u6570`) { `host` = '#{host}' }\")", "code": "B", "fill": null, "type": "dql", "alias": "\u6bcf\u79d2 Produce \u8bf7\u6c42\u5931\u8d25\u6570", "field": "FailedProduceRequestsPerSec.Count", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [{"key": "\u5e73\u5747\u6bcf\u79d2\u6269\u5bb9\u6570", "name": "\u5e73\u5747\u6bcf\u79d2\u6269\u5bb9\u6570", "color": "rgba(65,206,199,1)"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u5e73\u5747\u6bcf\u79d2\u6269\u5bb9\u6570", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Replica Management"}, "name": "IsrExpands&IsrShrinksPerSec", "pos": {"h": 9, "w": 6, "x": 6, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(avg(`IsrExpandsPerSec.Count`) AS `\u5e73\u5747\u6bcf\u79d2\u6269\u5bb9\u6570`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "\u5e73\u5747\u6bcf\u79d2\u6269\u5bb9\u6570", "field": "IsrExpandsPerSec.Count", "filters": [{"id": "89d55110-c384-11eb-9426-db66bc5d22f6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(avg(`IsrShrinksPerSec.Count`) AS `\u5e73\u5747\u6bcf\u79d2\u7f29\u5bb9\u6570`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "simple", "alias": "\u5e73\u5747\u6bcf\u79d2\u7f29\u5bb9\u6570", "field": "IsrShrinksPerSec.Count", "filters": [{"id": "8c73a2a0-c384-11eb-9426-db66bc5d22f6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [{"key": "\u6700\u5c0f\u5931\u8d25 ISR \u5206\u533a\u6570", "name": "\u6700\u5c0f\u5931\u8d25 ISR \u5206\u533a\u6570", "color": "rgba(65,206,199,1)"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "kafka_replica_manager_UnderMinIsrPartitionCount.Value", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Replica Management"}, "name": "UnderReplicatedPartitions&UnderMinIsrPartitionCount", "pos": {"h": 9, "w": 6, "x": 12, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(AVG(`UnderReplicatedPartitions.Value`) AS `UnderReplicatedPartitions`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "dql", "alias": "UnderReplicatedPartitions", "field": "UnderReplicatedPartitions.Value", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(AVG(`UnderMinIsrPartitionCount.Value`) AS `UnderMinIsrPartitionCount`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "alias": "UnderMinIsrPartitionCount", "field": "UnderMinIsrPartitionCount.Value", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"type": "sequence", "unit": "", "color": "#db632b", "qtype": "http", "query": {"fill": "none", "fields": [{"args": [{"name": "UnderMinIsrPartitionCount.Value"}], "alias": "\u6700\u5c0f\u5931\u8d25 ISR \u5206\u533a\u6570", "funcName": "Last"}, {"fx": "$$value", "args": [{"name": "UnderReplicatedPartitions.Value"}], "alias": "\u5931\u6548\u526f\u672c\u5206\u533a\u6570", "funcName": "last"}], "filter": {"tags": [{"name": "host", "value": "#{host}", "condition": "and", "operation": "="}]}, "groupBy": ["time(#{defaultInterval})"], "measurements": ["kafka_replica_manager"], "transformFuncs": []}, "extend": {}, "datasource": "ftinfluxdb"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u79bb\u7ebf\u526f\u672c\u6570", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Replica Management"}, "name": "OfflineReplicaCount", "pos": {"h": 9, "w": 6, "x": 18, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(avg(`OfflineReplicaCount.Value`) AS `OfflineReplicaCount`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "OfflineReplicaCount", "field": "OfflineReplicaCount.Value", "filters": [{"id": "f59e0c80-c383-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [{"key": "Broker \u5206\u533a\u6570", "name": "Broker \u5206\u533a\u6570", "color": "rgba(65,206,199,1)"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "Broker \u5206\u533a\u6570", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Replica Management"}, "name": "Partition&LeaderCount", "pos": {"h": 9, "w": 6, "x": 0, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(AVG(`PartitionCount.Value`) AS `\u5206\u533a\u6570`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "alias": "\u5206\u533a\u6570", "field": "PartitionCount.Value", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": [], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(avg(`LeaderCount.Value`) AS `Leader count`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "simple", "alias": "Leader count", "field": "LeaderCount.Value", "filters": [{"id": "63de1410-c384-11eb-9426-db66bc5d22f6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#00B2CE", "mappings": [], "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Purgatory"}, "name": "DeleteRecords", "pos": {"h": 8, "w": 6, "x": 0, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_purgatory`:(AVG(`DeleteRecords.NumDelayedOperations`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "alias": "", "field": "DeleteRecords.NumDelayedOperations", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": ["last"], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_purgatory", "queryFuncs": [], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#FF77AA", "mappings": [], "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#3AB8FF", "precision": "2", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Purgatory"}, "name": "Heartbeat", "pos": {"h": 8, "w": 6, "x": 6, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_purgatory`:(avg(`Heartbeat.NumDelayedOperations`))", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "Heartbeat.NumDelayedOperations", "density": "medium", "filters": [], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_purgatory", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#A0DD86", "mappings": [], "showLine": false, "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "showTitle": true, "titleDesc": "", "downsample": "last", "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "default", "isTimeInterval": false, "currentChartType": "singlestat", "showFieldMapping": false}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Purgatory"}, "name": "Topic", "pos": {"h": 8, "w": 6, "x": 12, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_purgatory`:(AVG(`topic.PurgatorySize`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "field": "topic.PurgatorySize", "fillNum": null, "filters": [{"op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_purgatory", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#737AE2", "mappings": [], "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#3AB8FF", "precision": "2", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Purgatory"}, "name": "Produce.PurgatorySize", "pos": {"h": 8, "w": 6, "x": 18, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_purgatory`:(AVG(`Produce.PurgatorySize`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "dql", "alias": "", "field": "Produce.PurgatorySize", "index": "", "fillNum": null, "filters": [{"op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}", "values": []}], "groupBy": [], "indexes": [], "labelOp": "", "funcList": ["last"], "interval": "", "fieldFunc": "avg", "namespace": "metric", "dataSource": "kafka_purgatory", "queryFuncs": [], "withLabels": [], "groupByTime": "", "dataSourceFunc": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#C57ECD", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "UnderReplicatedPartitions", "pos": {"h": 8, "w": 3, "x": 9, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(avg(`UnderReplicatedPartitions.Value`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "UnderReplicatedPartitions.Value", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#C8DD4F", "mappings": [], "pageSize": 50, "showLine": false, "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "default", "isTimeInterval": false, "currentChartType": "singlestat", "showFieldMapping": false}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "Topic", "pos": {"h": 8, "w": 3, "x": 3, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(AVG(`GlobalTopicCount.Value`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "GlobalTopicCount.Value", "density": "medium", "filters": [{"id": "07f2b970-c380-11eb-8967-fb1050d86707", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "integer", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "lineColor": "#c23531", "openStack": false, "precision": "2", "queryMode": "toMergeColumn", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "showLineAxis": false, "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u4e8b\u4ef6\u961f\u5217", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "QueueSize", "pos": {"h": 10, "w": 5, "x": 7, "y": 8}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`TotalQueueSize.Value`) AS `\u603b\u961f\u5217`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "\u603b\u961f\u5217", "field": "TotalQueueSize.Value", "filters": [{"id": "c839c9c0-c381-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`EventQueueSize.Value`) AS `\u4e8b\u4ef6\u961f\u5217`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "simple", "alias": "\u4e8b\u4ef6\u961f\u5217", "field": "EventQueueSize.Value", "filters": [{"id": "d9fe6ee0-c381-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u751f\u4ea7\u8005\u8bf7\u6c42\u65f6\u95f4", "name": "\u751f\u4ea7\u8005\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}], "colors": [{"key": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "name": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "tags": {"host": "iZbp18k3nmsg02frvgelyxZ"}, "color": "#498BFE"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "last(AtMinIsrPartitionCount.Value)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "ProducerTotalTimeMs", "pos": {"h": 11, "w": 8, "x": 0, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`TotalTimeMs.Mean`) AS `ProducerTotalTimeMs`) { `request` = 'Produce' and `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "ProducerTotalTimeMs", "field": "TotalTimeMs.Mean", "fillNum": null, "filters": [{"id": "93d474e0-7b70-11eb-bf8d-d7ca32a7c090", "op": "=", "name": "request", "logic": "and", "value": "Produce"}, {"id": "8bf61940-7b7a-11eb-95bf-4f081fe3b009", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u6d88\u8d39\u8005\u8bf7\u6c42\u65f6\u95f4", "name": "\u6d88\u8d39\u8005\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "avg(TotalTimeMs.Mean)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "CosumerTotalTimeMs", "pos": {"h": 11, "w": 8, "x": 8, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`TotalTimeMs.Mean`) AS `CosumerTotalTimeMs`) { `request` = 'FetchConsumer' and `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "CosumerTotalTimeMs", "field": "TotalTimeMs.Mean", "filters": [{"id": "54110870-7b73-11eb-bf8d-d7ca32a7c090", "op": "=", "name": "request", "type": "", "logic": "and", "value": "FetchConsumer"}, {"id": "99482200-7b7a-11eb-95bf-4f081fe3b009", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u4ece\u8282\u70b9\u8bf7\u6c42\u65f6\u95f4", "name": "\u4ece\u8282\u70b9\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u4ece\u8282\u70b9\u8bf7\u6c42\u65f6\u95f4", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "TotalTimeMs", "pos": {"h": 11, "w": 8, "x": 16, "y": 0}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`TotalTimeMs.Count`) AS `TotalTimeMs`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "TotalTimeMs", "field": "TotalTimeMs.Count", "fillNum": null, "filters": [{"id": "138fdc21-55da-11ed-90f8-85b96def89df", "op": "=", "name": "host", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "withLabels": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u5165\u6d41\u91cf", "name": "\u5165\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "compareColors": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "compareColorsDark": {"dayCompare": "rgba(213,217,226,0.5)", "hourCompare": "#D5D9E2", "weekCompare": "rgba(213,217,226,0.25)", "monthCompare": "rgba(213,217,226,0.12)"}, "onlyShowGroupName": false, "compareColorsLight": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "tableSortMetricName": "last(BytesInPerSec.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "BytesInPerSec", "pos": {"h": 9, "w": 8, "x": 0, "y": 9}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_topics`:(avg(`BytesInPerSec.Count`) AS `\u5165\u6d41\u91cf`) { `host` = '#{host}' } BY `host`", "code": "B", "fill": null, "type": "simple", "alias": "\u5165\u6d41\u91cf", "field": "BytesInPerSec.Count", "filters": [{"id": "65d1fbb0-7b81-11eb-b5c6-45fe7ccbc2b1", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": ["host"], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u51fa\u6d41\u91cf", "name": "\u51fa\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "compareColors": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "compareColorsDark": {"dayCompare": "rgba(213,217,226,0.5)", "hourCompare": "#D5D9E2", "weekCompare": "rgba(213,217,226,0.25)", "monthCompare": "rgba(213,217,226,0.12)"}, "onlyShowGroupName": false, "compareColorsLight": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "tableSortMetricName": "last(BytesInPerSec.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "BytesOutPerSec", "pos": {"h": 9, "w": 8, "x": 8, "y": 9}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "non_negative_derivative(\"M::`kafka_topics`:(avg(`BytesOutPerSec.Count`) AS `\u51fa\u6d41\u91cf`) { `host` = '#{host}' } BY `host`\")", "code": "B", "fill": null, "type": "simple", "alias": "\u51fa\u6d41\u91cf", "field": "BytesOutPerSec.Count", "filters": [{"id": "65d1fbb0-7b81-11eb-b5c6-45fe7ccbc2b1", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": ["host"], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [{"args": [], "name": "non_negative_derivative"}], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#498BFE", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "ActiveControllerCount", "pos": {"h": 8, "w": 3, "x": 0, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`ActiveControllerCount.Value`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "ActiveControllerCount.Value", "density": "medium", "filters": [{"id": "07f2b970-c380-11eb-8967-fb1050d86707", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#A0DD86", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "OfflinePartitionsCount", "pos": {"h": 8, "w": 3, "x": 12, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`OfflinePartitionsCount.Value`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "OfflinePartitionsCount.Value", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#5F67D6", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "OfflineLogDirectoryCount", "pos": {"h": 8, "w": 3, "x": 21, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_log`:(avg(`OfflineLogDirectoryCount`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "OfflineLogDirectoryCount", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_log", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "lineColor": "#c23531", "openStack": false, "precision": "2", "queryMode": "toMergeColumn", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": "", "showLineAxis": false, "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u4e8b\u4ef6\u961f\u5217", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "LeaderElection", "pos": {"h": 10, "w": 5, "x": 12, "y": 8}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`LeaderElectionRateAndTimeMs.Count`) AS `LeaderElection`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "LeaderElection", "field": "LeaderElectionRateAndTimeMs.Count", "filters": [{"id": "c839c9c0-c381-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}, {"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`UncleanLeaderElectionsPerSec.Count`) AS `Unclean LeaderElection`) { `host` = '#{host}' }", "code": "B", "fill": null, "type": "simple", "alias": "Unclean LeaderElection", "field": "UncleanLeaderElectionsPerSec.Count", "filters": [{"id": "d9fe6ee0-c381-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "index": "default", "units": [], "colors": [], "levels": [], "unitType": "global", "fixedTime": "", "inColumns": [{"field": "time", "headerName": "\u65f6\u95f4"}], "showTitle": true, "titleDesc": "", "addColumns": [{"field": "message", "headerName": "\u6d88\u606f"}, {"hide": true, "field": "status"}, {"hide": true, "field": "__docid"}], "globalUnit": [], "isSampling": true, "valMappings": [], "timeInterval": "", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "log", "showFieldMapping": false, "valColorMappings": []}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Logs"}, "name": "Logs", "pos": {"h": 17, "w": 24, "x": 0, "y": 0}, "type": "log", "queries": [{"name": "", "type": "log", "unit": "", "color": "", "qtype": "dql", "query": {"q": "L('default')::`kafka`:(`message`, `status`, `__docid`) { `host` = '#{host}' }", "code": "A", "fill": "", "type": "simple", "alias": "\u6d88\u606f", "field": null, "fields": [{"alias": "\u6d88\u606f", "field": "message"}, {"hide": true, "field": "status"}, {"hide": true, "field": "__docid"}], "search": "", "filters": [{"id": "204bce90-1639-11ee-bc97-1578a8bd4960", "op": "=", "name": "host", "type": "keyword", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "count", "fieldType": "text", "highlight": true, "namespace": "logging", "dataSource": "kafka", "queryFuncs": [], "groupByTime": "", "indexFilter": "default", "disableMultipleField": false}, "datasource": "dataflux", "noTimeRange": false}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "unitType": "global", "fixedTime": "", "showTitle": true, "titleDesc": "", "globalUnit": [], "isSampling": true, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "showFieldMapping": false}}, "group": {"name": "Introduction"}, "name": "Instructions", "pos": {"h": 8, "w": 24, "x": 0, "y": 0}, "type": "text", "queries": [{"name": "", "query": {"content": "The datakit kafka collector can pull various metrics from Kafka instances, such as requests, topics, and more, and gather these metrics into the observability cloud to help monitor and analyze various anomalies in Kafka.\n\n\nhttps://docs.guance.com/datakit/kafka/"}}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u5165\u6d41\u91cf", "name": "\u5165\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "compareColors": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "compareColorsDark": {"dayCompare": "rgba(213,217,226,0.5)", "hourCompare": "#D5D9E2", "weekCompare": "rgba(213,217,226,0.25)", "monthCompare": "rgba(213,217,226,0.12)"}, "onlyShowGroupName": false, "compareColorsLight": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "tableSortMetricName": "last(BytesInPerSec.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "BytesRejectedPerSec", "pos": {"h": 9, "w": 8, "x": 16, "y": 18}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_topics`:(avg(`BytesRejectedPerSec.Count`) AS `\u62d2\u7edd\u6d41\u91cf`) { `host` = '#{host}' } BY `host`", "code": "B", "fill": null, "type": "simple", "alias": "\u62d2\u7edd\u6d41\u91cf", "field": "BytesRejectedPerSec.Count", "filters": [{"id": "65d1fbb0-7b81-11eb-b5c6-45fe7ccbc2b1", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": ["host"], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u5165\u6d41\u91cf", "name": "\u5165\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "line", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "compareColors": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "compareColorsDark": {"dayCompare": "rgba(213,217,226,0.5)", "hourCompare": "#D5D9E2", "weekCompare": "rgba(213,217,226,0.25)", "monthCompare": "rgba(213,217,226,0.12)"}, "onlyShowGroupName": false, "compareColorsLight": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "tableSortMetricName": "last(BytesInPerSec.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "TotalProduceRequestsPerSec", "pos": {"h": 9, "w": 8, "x": 0, "y": 18}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_topics`:(count(`TotalProduceRequestsPerSec.Count`) AS `\u751f\u4ea7\u8bf7\u6c42\u9891\u7387`) { `host` = '#{host}' } BY `host`", "code": "B", "fill": null, "type": "simple", "alias": "\u751f\u4ea7\u8bf7\u6c42\u9891\u7387", "field": "TotalProduceRequestsPerSec.Count", "filters": [{"id": "65d1fbb0-7b81-11eb-b5c6-45fe7ccbc2b1", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": ["host"], "funcList": [], "fieldFunc": "count", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u5165\u6d41\u91cf", "name": "\u5165\u6d41\u91cf", "unit": "", "units": ["traffic", "B/S"]}], "colors": [], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "global", "chartType": "line", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "compareColors": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "compareColorsDark": {"dayCompare": "rgba(213,217,226,0.5)", "hourCompare": "#D5D9E2", "weekCompare": "rgba(213,217,226,0.25)", "monthCompare": "rgba(213,217,226,0.12)"}, "onlyShowGroupName": false, "compareColorsLight": {"dayCompare": "rgba(11,11,12,0.5)", "hourCompare": "#0B0B0C", "weekCompare": "rgba(11,11,12,0.3)", "monthCompare": "rgba(11,11,12,0.12)"}, "tableSortMetricName": "last(BytesInPerSec.Count)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "B"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Topic"}, "name": "TotalFetchRequestsPerSec", "pos": {"h": 9, "w": 8, "x": 8, "y": 18}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_topics`:(last(`TotalFetchRequestsPerSec.Count`) AS `\u6d88\u8d39\u8bf7\u6c42\u9891\u7387`) { `host` = '#{host}' } BY `host`", "code": "B", "fill": null, "type": "simple", "alias": "\u6d88\u8d39\u8bf7\u6c42\u9891\u7387", "field": "TotalFetchRequestsPerSec.Count", "filters": [{"id": "65d1fbb0-7b81-11eb-b5c6-45fe7ccbc2b1", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": ["host"], "funcList": [], "fieldFunc": "last", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_topics", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u751f\u4ea7\u8005\u8bf7\u6c42\u65f6\u95f4", "name": "\u751f\u4ea7\u8005\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": ["time", "ms"]}], "colors": [{"key": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "name": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "tags": {"host": "iZbp18k3nmsg02frvgelyxZ"}, "color": "#498BFE"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "last(AtMinIsrPartitionCount.Value)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "LocalTimeMs", "pos": {"h": 11, "w": 8, "x": 0, "y": 11}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`LocalTimeMs.Count`) AS `LocalTimeMs`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "LocalTimeMs", "field": "LocalTimeMs.Count", "fillNum": null, "filters": [{"id": "8bf61940-7b7a-11eb-95bf-4f081fe3b009", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u961f\u5217\u8bf7\u6c42\u65f6\u95f4", "name": "\u961f\u5217\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": []}], "colors": [{"key": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "name": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "tags": {"host": "iZbp18k3nmsg02frvgelyxZ"}, "color": "#498BFE"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "last(AtMinIsrPartitionCount.Value)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "RequestQueueTimeMs", "pos": {"h": 11, "w": 8, "x": 8, "y": 11}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`RequestQueueTimeMs.Count`) AS `RequestQueueTimeMs`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "RequestQueueTimeMs", "field": "RequestQueueTimeMs.Count", "fillNum": null, "filters": [{"id": "8bf61940-7b7a-11eb-95bf-4f081fe3b009", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"mark": {"axis": "x", "data": [], "type": "area"}, "alias": [], "units": [{"key": "\u961f\u5217\u8bf7\u6c42\u65f6\u95f4", "name": "\u961f\u5217\u8bf7\u6c42\u65f6\u95f4", "unit": "", "units": []}], "colors": [{"key": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "name": "last(TotalTimeMs.Mean){\"host\": \"iZbp18k3nmsg02frvgelyxZ\"}", "tags": {"host": "iZbp18k3nmsg02frvgelyxZ"}, "color": "#498BFE"}], "levels": [], "slimit": 20, "density": "medium", "showLine": false, "unitType": "custom", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "openStack": false, "precision": "2", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "globalUnit": [], "isSampling": true, "compareType": [], "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "connectNulls": true, "legendValues": "", "timeInterval": "auto", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "last(AtMinIsrPartitionCount.Value)", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Performance Monitoring"}, "name": "ResponseQueueTimeMs", "pos": {"h": 11, "w": 8, "x": 16, "y": 11}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_request`:(avg(`ResponseQueueTimeMs.Count`) AS `ResponseQueueTimeMs.Count`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "ResponseQueueTimeMs.Count", "field": "ResponseQueueTimeMs.Count", "fillNum": null, "filters": [{"id": "8bf61940-7b7a-11eb-95bf-4f081fe3b009", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_request", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#C57ECD", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "UnderMinIsrPartitionCount", "pos": {"h": 8, "w": 3, "x": 15, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_replica_manager`:(count(`UnderMinIsrPartitionCount`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "UnderMinIsrPartitionCount", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "count", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_replica_manager", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#5F67D6", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "DeadThreadCount", "pos": {"h": 8, "w": 3, "x": 18, "y": 0}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_log`:(avg(`DeadThreadCount`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "DeadThreadCount", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_log", "queryFuncs": [], "groupByTime": ""}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "slimit": 20, "density": "medium", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "chartType": "areaLine", "fixedTime": "", "isPercent": false, "lineColor": "#c23531", "openStack": false, "precision": "2", "queryMode": "toMergeColumn", "showLabel": false, "showTitle": true, "stackType": "time", "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "yAxixMaxVal": null, "yAxixMinVal": null, "compareTitle": "", "connectNulls": true, "legendValues": [], "showLineAxis": false, "timeInterval": "default", "legendPostion": "none", "maxPointCount": 360, "sorderByOrder": "desc", "xAxisShowType": "time", "isTimeInterval": true, "changeWorkspace": false, "currentChartType": "sequence", "showFieldMapping": false, "onlyShowGroupName": false, "tableSortMetricName": "\u4e8b\u4ef6\u961f\u5217", "openThousandsSeparator": true, "mainMeasurementQueryCode": "A"}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "NetworkProcessorAvgIdlePercent", "pos": {"h": 10, "w": 4, "x": 17, "y": 8}, "type": "sequence", "queries": [{"name": "", "type": "sequence", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_network`:(avg(`NetworkProcessorAvgIdlePercent`) AS `\u7a7a\u95f2\u7387`) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "\u7a7a\u95f2\u7387", "field": "NetworkProcessorAvgIdlePercent", "filters": [{"id": "c839c9c0-c381-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": [], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_network", "queryFuncs": [], "groupByTime": "", "additionalFields": null}, "datasource": "dataflux"}]}, {"extend": {"settings": {"alias": [], "units": [], "colors": [], "levels": [], "bgColor": "#5F67D6", "mappings": [], "pageSize": 50, "showLine": false, "unitType": "global", "fixedTime": "", "fontColor": "", "lineColor": "#c23531", "precision": "2", "queryMode": "toMergeColumn", "showTitle": true, "titleDesc": "", "downsample": "last", "globalUnit": [], "isSampling": true, "compareType": "", "openCompare": false, "compareTitle": "", "showLineAxis": false, "timeInterval": "auto", "isTimeInterval": false, "changeWorkspace": false, "currentChartType": "singlestat", "showFieldMapping": false, "sequenceChartType": "line", "openThousandsSeparator": true}, "fixedTime": "", "isRefresh": false}, "group": {"name": "Overview"}, "name": "UncleanLeaderElectionsPerSec", "pos": {"h": 10, "w": 3, "x": 21, "y": 8}, "type": "singlestat", "queries": [{"name": "", "type": "singlestat", "unit": "", "color": "", "qtype": "dql", "query": {"q": "M::`kafka_controller`:(avg(`UncleanLeaderElectionsPerSec.Count`)) { `host` = '#{host}' }", "code": "A", "fill": null, "type": "simple", "alias": "", "field": "UncleanLeaderElectionsPerSec.Count", "density": "medium", "filters": [{"id": "582c4aa0-c380-11eb-b98e-df59d31b9dd6", "op": "=", "name": "host", "type": "", "logic": "and", "value": "#{host}"}], "groupBy": [], "funcList": ["last"], "fieldFunc": "avg", "fieldType": "float", "namespace": "metric", "dataSource": "kafka_controller", "queryFuncs": [], "groupByTime": "", "additionalFields": null}, "datasource": "dataflux"}]}], "groups": [{"name": "Introduction", "extend": {}}, {"name": "Overview", "extend": {}}, {"name": "Topic", "extend": {}}, {"name": "Replica Management", "extend": {}}, {"name": "Performance Monitoring", "extend": {}}, {"name": "Purgatory", "extend": {}}, {"name": "Logs", "extend": {}}], "type": "template"}}