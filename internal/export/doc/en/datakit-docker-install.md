# Introduction

This article describes how to install DataKit in a container environment.

## Docker Install {#install}

The container startup command is as follows:

```shell
sudo docker run -d \
    -v "/path/to/your/local/conf/dir":"/usr/local/cloudcare/guance/datakit/conf.d" \
    -e ENV_DATAWAY="${dataway}" \
    -e ENV_WITHIN_DOCKER=1 \
    -e ENV_ENABLE_INPUTS='cpu,mem,disk,diskio,swap,system,net' \
    -e ENV_UUID="<your-datakit-uuid>" \
    --privileged \
    --publish 9529:9529 \
    pubrepo.guance.com/datakit/datakit:v1.1.6-rc1
```

A few notes:

- There are many configuration files in DataKit. It is best to edit these files on the host and mount them.
- DataKit requires a UUID to run, which is automatically generated by the installer in the case of host installation. When installing the container, it can only be prepared in advance and can be generated through the following command
- If you do not need to enable 9529 port binding, you can remove the `--publish` setting

```shell
# Linux
$ echo -n 'dkid_'; tr -dc A-Za-z0-9 </dev/urandom | head -c 20 ; echo ''
dkid_4OZrX57npugtrri24rdP

# Mac
$ echo -n 'dkid_'; openssl rand -hex 10
dkid_facc219347e914506d25
```

- During the startup process of DataKit, the following environment variables are supported:
    - `ENV_DATAWAY`: DataKit address
    - `ENV_WITHIN_DOCKER`: This must be specified, otherwise DataKit in the container will run differently
    - `ENV_ENABLE_INPUTS`: Specify the collector that is enabled by default (that is, it can take effect without additional configuration), which can be added or deleted according to actual needs. However, some collectors must be configured and are not suitable to be enabled by default, such as MySQL/Nginx and other collectors, because they require some additional configuration, such as user name, password, etc.
    - `ENV_GLOBAL_TAGS`: Inject global-tag, that is, add global tags to all collected data, support multiple pairs of `key=value`, separated by English commas
